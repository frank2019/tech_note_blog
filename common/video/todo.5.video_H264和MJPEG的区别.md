



MJPEG和H.264的区别

内容简介
 MJPEG和H.264是网络摄像机的压缩格式。也是现在主流压缩格式。几乎所有的视频监控设备厂商都以这两种产品为主。想让图像像素更高，画质更清晰，那就必须依靠压缩技术来优化。两者的用途一致，却有明显的区别。2013年，4G网络时代的到来使得MJPEG和H.264的区别概念又一次被提出来.

目录索引
 名词释义
 MJPEG VS H.264

名词释义：
 MJPEG
 MJPEG是24-bit的"true-color"影像标准，MJPEG的工作是将RGB格式的影像转换成YCrCB格式，目的是为了减少档案大小，一般约可减少1/3~1/2左右。
 MJPEG是在JPEG上发展起来的，JPEG的压缩技术是直接处理整个画面，等到压缩档案全部传输完才开始进行解压。而MJPEG对每一帧（一张张分离的JPG数据）进行压缩，再随机储存每一帧。就像JPEG是几个文档打包压缩邮件发送，而MJPEG可以用QQ在线逐一进行直接发送。MJPEG这种压缩技术避免了JPEG传输的延迟性。而且因为每一帧独立出来，所以可以任意剪接编辑，图像清晰度也会比JPEG的高。MJPEG一直以来作为民用监控的中坚技术，可以说是掌管监控行业的整个后宫。它的出现是压缩技术一个历史上的里程碑
 H.264
 H.264，同时也是MPEG-4第十部分，是由ITU-T视频编码专家组（VCEG）和ISO/IEC动态图像专家组（MPEG）联合组成的联合视频组（JVT，Joint  Video  Team）提出的高度压缩数字视频编解码器标准。H.264是ITU-T以H.26x系列为名称命名的标准之一，同时AVC是ISO/IEC  MPEG一方的称呼。
 随着网络的发展要求视频压缩技术提出新的技术能够适应不同的网络环境，以更高的压缩比、更真实的画面、更少的花费、更快的传输速度传递视频，让网络摄像机能够更加贴近民众生活。因此H.264就诞生了

MJPEG VS H.264: 

码流：
 码流相当于视频文件在宽带中的水流速度，它的大小影响了传送速度和画面质量和占用内存。首先介绍一下公式：视频文件大小=码流×3600S÷8÷1024=？M/小时
 先用不同码流看看画面效果和视频文件大小
 例如：
 MJPEG用2048kb/s的速度上传文件
 视频文件大小=2048kb/s×3600S÷8÷1024=900Mbps/小时!
 32G的存储卡可以储存1.5天

MJPEG码流2048kb/s监视画面

H.264用512 kb/s的速度上传文件
 视频文件大小=512 kb/s×3600S÷8÷1024=225M/小时
 32G的存储卡可以储存5-6天; 

H.264码流512kb/s监视画面 
 即使MJPEG用2048kb/s的码流对比H.264用512  kb/s码流，因为H.264的压缩比更大，计算方法更先进，可以使画面质量达到一样的效果。H.264比MJPEG节省了80%以上的码率，还比MJPEG节省了4倍储存空间。H.264还能在更低的宽带下完成720P、1080i/P的广播级高清视频分辨率。
 现在4G网络的到来使得家庭网络的宽带速度都非常宽，MJPEG网络传输达到2048kb/s的码流也是理论上的。再者，网络摄像机视频传输是用的上传速度而不是下载速度。不管下载速度是多少，90%网络运营商的上传速度都是512kb/s。
 我们再用相同码流512 kb/s看看画面的效果和视频文件大小。

同码流MJPEG画质

同码流H.264画质

很显然，码流一样，画质却有很大差别。为了实现高压缩比，MJPEG降低视频质量，出现马赛克，画面丢帧现象严重。不过MJPEG比较适合视频编辑，对帧数高低要求不是很严格的时候反而具备了优势。H.26因为拥有更先进的压缩算法，压缩比高，能够很快对拍摄视频进行压缩再传送，因而画面非常清晰、流畅。
 压缩率：
 1、 MJPEG压缩比是20:1
 2、H.264压缩比是200:1
 网络兼容性：
 1、MJPEG改良了帧间预测机制，提高了纠错和网络兼容性，对网络传输具有更好的支持功能。但是每个生产商的网络摄像机适用的网络都有限定性。
 2、网络兼容性强，不管你的网络是CDMA，GPRS，WCDMA还是CDMA2000都能一样使用。
 网络适用性：
 1、MJPEG网络传输网络占用大大，适用于短距离的无线监控，长距离手机、IPAD无线监控网络达不到传输要求，画面效果差。在不稳定网络环境下发生丢包等错误，视频文件易丢失。
 2、H.264不仅在相同宽带下能够提供更优秀的图像质量，即使手机、PAD无线网络传输、远程监控依然能够很好适应。
 MJPEG手机监控画面 H.264手机监控画面
 标准性：
 1、MJPEG由JPEG专家组制订，并不是一个标准的压缩方式，每个厂家都有其自己的MJPEG版本，双方的文件互相无法识别传输。
 2、H.264是第一个由ITU-T（国际电联）和ISO（国际标准化组织）共同开发定制的视频编码技术标准，可想而知它的权威性和科学性。2

ITU-T（国际电联）和ISO（国际标准化组织）
 成本：
 1、MJPEG实现成本最低，市场上先进的技术和成熟的技术并存。MJPEG获得较好的单幅图像质量，能够精确到帧的编辑，有利于编辑，受网络丢包问题影响较小，所以在众多中低产品中仍有应用。但是在低成本的诱惑下，很多厂家依然把MJPEG的产品作为主打产品。

2、H.264解码算法复杂、编码要求苛刻，对芯片承受能力要求高也是制约其发展的一个重要因素。
 产品：
 2013年，针对两种压缩格式，很多厂商都进行了价格战。在相同软硬件（机器人型外壳、无线WIFI、P2P技术、30万像素、双向语音功能）的基础上，分别采用MJPEG或者H.264的压缩格式，却有不同的价格和售后服务。虽然网络摄像机都有远程和无线访问功能，但是MJGEG和H.264就决定了网络摄像机远程和无线访问的流畅性。这给用户也带来不同的视觉效果。常规来说，H.264的压缩技术对芯片等要求高导致产品价格相对于MJPEG会偏高。但是有些产品掌握了熟练的网络摄像机技术便能相应的节省成本。在偏色技术上，运用红外滤波技术来代替IR-CUT技术也能相应降低成本。

所以，H.264随着技术的发展，其实现成本逐渐降低。现在H,264的高成本已经不是阻碍产品低价的因素了。反而MJPEG其运动性差、宽带占用高、存储空间占用大等缺陷暴露出来。而且   MJPEG编码效率在一定程度上制约了其应用的广泛性。H.264能够适应大部分网络摄像机在实际应用提供的前端、传输、管理中心及后端环节的完整解决方案。







## 参考链接

1. https://blog.csdn.net/tantion/article/details/83104924

