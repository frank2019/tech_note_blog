

spacemacs 中的查找与替换



```
临渊羡鱼，不如退而结网   --《汉书》
```



#### 按模式匹配或按照原义匹配



| Keybinding       | Function                                             |
| ---------------- | ---------------------------------------------------- |
| `/text`          | 向后面的文本中查找，使用n查找下一个，N向前查找下一个 |
| `?text`          | 向前面的文本中查找                                   |
| `*`              | y以光标所在词位关键字进行搜所                        |
|                  |                                                      |
| :s/old/new       | 用new替换当前行第一个old                             |
| :s/old/new/g     | 用new替换当前行所有的old                             |
| n1,n2s/old/new/g | - 用new替换文件n1行到n2行所有的old                   |
| :%s/old/new/g    | - 用new替换文件中所有的old                           |
| :%s/^/xxx/g      | - 在每一行的行首插入xxx，^表示行首                   |
|                  | 所有替换命令末尾加上c，每个替换都将需要用户确认      |
|                  | 加上i则忽略大小写(ignore)                            |
|                  |                                                      |



:[range]g/pattern/command

例如 :%g/^ xyz/normal dd。

表示对于以一个空格和xyz开头的行执行normal模式下的dd命令。

关于range的规定为：

- 如果不指定range，则表示当前行。
- m,n: 从m行到n行。
- 0: 最开始一行（可能是这样）。
- $: 最后一行
- .: 当前行
- %: 所有行



| Keybinding                | Function                             |
| ------------------------- | ------------------------------------ |
| `:g/re/p'                 | j将匹配re的项打印。 p:print          |
| ':v/re/d                  | s删除所有不匹配的项                  |
| `:g/TODO/yank A`          | 把包含 TODO 注释的行复制到此寄存器中 |
| :g/TODO/t$                | 将所有 TODO 项复制到当前文件的末尾   |
| :g/{pattern}/[range][cmd] |                                      |
|                           |                                      |

