

C++11的左值引用与右值引用



### 1，概念

c++11中增加了右值引用和move语义来避免一些不必要的构造和copy操作，以此来提升程序的运行效率。

在C++11中，区别表达式是左值或右值可以做这样的总结：

*当一个对象被用作右值的时候，用的是对象的值（内容）；当对象被用作左值的时候，用的是对象的身份（在内存中的位置）。左值有持久的状态，而右值要么是字面常量，要么是在表达式求值过程中创建的对象，即左值持久，右值短暂*



#### 引用

​        引用是C++语法做的优化，引用的本质还是靠指针来实现的。引用相当于变量的别名。

​         引用可以改变指针的指向，还可以改变指针所指向的值。

​        引用的基本规则：

1. 声明引用的时候必须初始化，且一旦绑定，不可把引用绑定到其他对象；即引用必须初始化，不能对引用重定义**；**
2. 对引用的一切操作，就相当于对原对象的操作。



### 2, 使用举例



#### 右值引用

```c++
    int &&rr1 = 42;//正确，字面常量是右值  
    int &&rr2 = rr1;//错误，表达式rr1是左值  
	int && k =i+j；  //正确
```



1. &&是右值引用，右值是只能放在 “ = ” 右边的值，右值没有一个 “ 变量 ”名字。
2. 初始化时右值引用一定要用一个右值表达式绑定



#### 两者对比

1. 左值可以寻址，而右值不可以。
2. 左值可以被赋值，右值不可以被赋值，可以用来给左值赋值。
3. 左值可变,右值不可变（仅对基础类型适用，用户自定义类型右值引用可以通过成员函数改变）。







   



### 参考链接

1. https://www.cnblogs.com/SZxiaochun/p/8017349.html

2. [C++11的左值引用与右值引用总结](https://www.cnblogs.com/golaxy/p/9212897.html)